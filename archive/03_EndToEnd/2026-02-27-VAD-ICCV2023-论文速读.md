---
date: 2026-02-27
keywords: [VAD, Vectorized Autonomous Driving, Map-less Planning, ICCV 2023]
tags: [Level-03, Perception-to-Planning, Efficiency-Hardcore]
---

# VAD-è®ºæ–‡é€Ÿè¯»

## 0. åŸºæœ¬ä¿¡æ¯
- **å‘è¡¨æ—¶é—´**: 2023å¹´ (ICCV 2023)
- **ä½œè€…å•ä½**: åä¸­ç§‘æŠ€å¤§å­¦ (HUST)ã€åœ°å¹³çº¿ (Horizon Robotics)
- **ä»£ç ä»“åº“**: [https://github.com/hustvl/VAD](https://github.com/hustvl/VAD)
- **Tags**: #çŸ¢é‡åŒ–ç«¯åˆ°ç«¯ #æ— å›¾è§„åˆ’ #é«˜æ•ˆè§„æ§ #ICCV2023

---

## 1. ğŸ”ª ä»Šæ—¥é”è¯„
> **VAD** æ˜¯ç«¯åˆ°ç«¯é¢†åŸŸçš„â€œå‡é‡å…ˆé”‹â€ã€‚
> 
> **æ ¸å¿ƒæ´å¯Ÿ**ï¼šUniAD è™½ç„¶å¼ºå¤§ä½†å¤ªé‡äº†ï¼Œå°¤å…¶æ˜¯ OccFormer å¯¹æ˜¾å­˜çš„åå™¬ã€‚VAD æå‡ºäº†ä¸€ä¸ªå°–é”çš„è§‚ç‚¹ï¼š**è§„æ§ä¸éœ€è¦çœ‹ç¨ å¯†çš„ Gridï¼Œåªéœ€è¦çœ‹çŸ¢é‡çš„çº¿å’Œç‚¹ã€‚** å®ƒé€šè¿‡å…¨çŸ¢é‡åŒ–è¡¨å¾ï¼Œä¸ä»…è®©è§„åˆ’é€Ÿåº¦å¿«äº† 3 å€ï¼Œè¿˜å½»åº•æ‘†è„±äº†å¯¹é«˜ç²¾åœ°å›¾çš„ä¾èµ–ã€‚

---

## 2. ğŸ—ï¸ æ¨¡å‹æ¶æ„ (Architecture Map)
```mermaid
graph TD
    A[Image Inputs] --> B[BEV Encoder]
    B --> C1[Vectorized Map Queries]
    B --> C2[Vectorized Agent Queries]
    C1 --> D[Map Prediction: Points/Lines]
    C2 --> E[Agent Prediction: Trajectories]
    D & E --> F[Vectorized Planning Head]
    F --> G[Ego Waypoints]
```

### **è¯¦ç»†æ–‡å­—æè¿°ï¼š**
1. **Scene Vectorization**: å°†åœºæ™¯æŠ½è±¡ä¸º Agent Vectors å’Œ Map Vectorsã€‚
2. **Ego-Query Interaction**: Ego-query ç›´æ¥ä¸è¿™äº›ç¨€ç–çš„çŸ¢é‡ç‰¹å¾è¿›è¡Œäº¤äº’ï¼Œè®¡ç®—é‡çº§ä» $O(H 	imes W)$ é™è‡³ $O(N)$ã€‚
3. **Map-less Planning**: å®æ—¶å›å½’å‘¨å›´çš„è½¦é“çº¿æ‹“æ‰‘ï¼Œå®ç°åœ¨å®Œå…¨æ— å›¾ï¼ˆMap-lessï¼‰ç¯å¢ƒä¸‹çš„è‡ªåŠ¨é©¾é©¶ã€‚

---

## 3. ğŸ’¡ æ ¸å¿ƒåˆ›æ–° (Math & Pseudo-code)

### 3.1 çŸ¢é‡åŒ–è§„åˆ’çº¦æŸ (Vectorized Constraints)
**é€»è¾‘**ï¼šåœ¨ Loss ä¸­æ˜¾å¼åŠ å…¥è½¨è¿¹ç‚¹åˆ°çŸ¢é‡åŒ–è¾¹ç•Œçš„è·ç¦»æƒ©ç½šã€‚

**PyTorch é£æ ¼ä¼ªä»£ç å®ç°**ï¼š
```python
def vectorized_planning_loss(pred_traj, map_vectors, agent_vectors):
    # pred_traj: [T, 2] (é¢„æµ‹çš„è½¨è¿¹ç‚¹)
    
    # 1. åœ°å›¾è¾¹ç•Œçº¦æŸ (Keep inside lanes)
    # è®¡ç®—é¢„æµ‹ç‚¹åˆ°æœ€è¿‘è½¦é“çº¿çŸ¢é‡çš„è·ç¦»
    dist_to_lane = compute_min_dist(pred_traj, map_vectors)
    loss_map = torch.mean(F.relu(dist_to_lane - margin))
    
    # 2. éšœç¢ç‰©é¿éšœçº¦æŸ (Collision Avoidance)
    dist_to_agents = compute_min_dist(pred_traj, agent_vectors)
    loss_agent = torch.mean(F.relu(safety_threshold - dist_to_agents))
    
    return loss_map + loss_agent
```

---

## 5. ğŸ“Š å…³é”®æŒ‡æ ‡ (nuScenes)
- **Planning L2 Error**: **0.68m** (ä¼˜äº UniAD çš„ 0.71m)ã€‚
- **æ¨ç†é€Ÿåº¦**: åœ¨ **Orin-X** ä¸Šå•æ ¸å¯è¾¾ **15-20 Hz**ï¼Œå…·å¤‡æå¼ºçš„é‡äº§æ½œåŠ›ã€‚

---

## 10. ğŸ› ï¸ è½åœ°å»ºè®®
- **çŸ¢é‡åŒ–åå¤„ç†**: å»ºè®®é…åˆç®€å•çš„çŸ¢é‡åœ°å›¾å¹³æ»‘ç®—æ³•ï¼Œæå‡è½¨è¿¹åœ¨ç‹­çª„å¼¯é“å¤„çš„ä¸€è‡´æ€§ã€‚
- **å†…å­˜ä¼˜åŒ–**: æ˜¾å­˜å ç”¨ç›¸æ¯” UniAD é™ä½äº†çº¦ 50%ã€‚
